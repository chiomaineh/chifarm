<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <title>Chifarm | Signup</title>
    <link rel="stylesheet" href="signup.css">
    <!-- Fontawesome CDN Link -->
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@300;400;500;600;700&family=Poppins:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- favicon -->
    <link rel="shortcut icon" href="assets/images/pay - Copy.png" type="image/svg+xml">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* Pop-up styles */
        #popup {
            display: none;
            position: fixed;
            bottom: -100px;
            left: 0;
            right: 0;
            background-color: #28a745;
            color: white;
            text-align: center;
            padding: 15px;
            font-size: 16px;
            z-index: 1000;
            transition: bottom 0.5s ease-in-out;
        }
        #popup.error {
            background-color: #dc3545;
        }
        #popup.show {
            display: block;
            bottom: 0;
        }
    </style>
</head>
<body>
<div class="container">
    <input type="checkbox" id="flip">
    <div class="cover">
        <div class="front">
            <img src="assets/images/Animatedgifscollection_.gif" alt="">
            <div class="text">
                <span class="text-1">
                    <i class="fas fa-star"></i> <br> Sell & buy your farm products on <strong style="font-family: caveat; font-size: 40px; font-weight: bold;">chifarm</strong>
                </span>
            </div>
        </div>
        <div class="back">
            <div class="text">
                <span class="text-1">Complete miles of journey <br> with one step</span>
                <span class="text-2">Let's get started</span>
            </div>
        </div>
    </div>
    <div class="forms">
        <div class="form-content">
            <div class="signup-form">
                <a href="#" id="goBackLinkk">
                    <i style="font-size: 25px; color: #5b13b9; text-shadow: 0 2px 50px #5b13b9;" class='fas fa-arrow-left'></i>
                </a>
                <div class="title">Signup on <strong style="font-family: caveat; font-size: 40px; color: green; font-weight: bold;"><i class="fas fa-seedling"></i> chifarm</strong></div>
                <form id="signupForm">
                    <div class="input-boxes">
                        <div class="input-box">
                            <i class="fas fa-user"></i>
                            <input type="text" id="name" placeholder="Enter your name" required>
                        </div>
                        <div class="input-box">
                            <i class="fas fa-star"></i>
                            <select id="role">
                                <option value="Non Selected">Who are you?</option>
                                <option value="Farmer">I'm a Farmer (seller)</option>
                                <option value="Buyer">I'm a Buyer</option>
                            </select>
                        </div>
                        <div class="input-box">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="email" placeholder="Enter your email" required>
                        </div>
                        <div class="input-box">
                            <i class="fas fa-lock"></i>
                            <input type="password" id="password" placeholder="Enter your password" required>
                        </div>
                        <div class="button input-box">
                            <input type="submit" value="Join our community">
                        </div>
                        <div class="text sign-up-text">Having issues? <a href="contact.html">Contact support</a></div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div id="popup" class="error"></div>

<script>

document.getElementById("signupForm").addEventListener("submit", function(event) {
    event.preventDefault(); // Prevent the default form submission behavior
    
    // Get the form values
    var name = document.getElementById("name").value;
    var role = document.getElementById("role").value;
    var email = document.getElementById("email").value;
    var password = document.getElementById("password").value;
    
    // Check if the email already exists in local storage
    if (localStorage.getItem(email)) {
        showPopup("This user already exists", "error");
        return;
    }
    
    // Validate form fields (example: password check)
    if (password.length < 6) {
        showPopup("Password must be at least 6 characters long", "error");
        return;
    }
    
    // Store the form values in local storage
    localStorage.setItem(email, JSON.stringify({ name, role, email, password }));
    
    // Show success message and navigate to login page
    showPopup("Sign-up successful!", "success");
    setTimeout(function() {
        window.location.href = "login.html"; // Redirect to login page
    }, 3000); // 3 seconds delay
});

document.getElementById("goBackLinkk").addEventListener("click", function(event) {
    event.preventDefault(); // Prevent the default behavior of the link
    history.back(); // Go back to the previous page
});

function showPopup(message, type) {
    var popup = document.getElementById("popup");
    popup.innerText = message;
    popup.className = type;
    popup.classList.add("show");
    
    // Hide the popup after 3 seconds
    setTimeout(function() {
        popup.classList.remove("show");
    }, 3000);
}
</script>

</body>
</html>
